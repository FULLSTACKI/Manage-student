<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2">
  <diagram name="Page-1" id="EB1oHA6bWEVhhu4llE7b">
    <mxGraphModel dx="4227" dy="837" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="850" pageHeight="1100" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="X1sUR5M8pQhaVygHqHh5-73" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-700" y="1440" width="1950" height="1670" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-18" value="" style="group;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-73" vertex="1" connectable="0">
          <mxGeometry width="1800.0000000000005" height="1670" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-6" value="Tác nhân (Admin)" style="swimlane;whiteSpace=wrap;html=1;startSize=40;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-18" vertex="1">
          <mxGeometry width="200" height="1670" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-16" value="Start" style="points=[[0.145,0.145,0],[0.5,0,0],[0.855,0.145,0],[1,0.5,0],[0.855,0.855,0],[0.5,1,0],[0.145,0.855,0],[0,0.5,0]];shape=mxgraph.bpmn.event;html=1;verticalLabelPosition=middle;labelBackgroundColor=none;verticalAlign=middle;align=center;perimeter=ellipsePerimeter;outlineConnect=0;aspect=fixed;outline=standard;symbol=general;labelPosition=center;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-6" vertex="1">
          <mxGeometry x="74.99999999999997" y="49.999999999999986" width="49.999999999999986" height="49.999999999999986" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-17" value="Gửi Request&amp;nbsp;" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=user;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-6" vertex="1">
          <mxGeometry x="40" y="130" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-27" value="End" style="points=[[0.145,0.145,0],[0.5,0,0],[0.855,0.145,0],[1,0.5,0],[0.855,0.855,0],[0.5,1,0],[0.145,0.855,0],[0,0.5,0]];shape=mxgraph.bpmn.event;html=1;verticalLabelPosition=middle;labelBackgroundColor=none;verticalAlign=middle;align=center;perimeter=ellipsePerimeter;outlineConnect=0;aspect=fixed;outline=end;symbol=terminate2;labelPosition=center;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-6" vertex="1">
          <mxGeometry x="75" y="1570" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-6" source="X1sUR5M8pQhaVygHqHh5-16" target="X1sUR5M8pQhaVygHqHh5-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-99" value="&lt;code&gt;Nhận File Báo cáo&lt;br&gt;(Tải file)&lt;/code&gt;" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=user;" parent="X1sUR5M8pQhaVygHqHh5-6" vertex="1">
          <mxGeometry x="40" y="1415" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-101" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-6" source="X1sUR5M8pQhaVygHqHh5-99" target="X1sUR5M8pQhaVygHqHh5-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-9" value="Hệ thống Tạo Báo Cáo Tự Động" style="swimlane;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;startSize=40;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-18" vertex="1">
          <mxGeometry x="200.0000000000004" width="1599.9999999999998" height="1670" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-10" value="Controller&lt;div&gt;(API)&lt;/div&gt;" style="swimlane;startSize=40;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" vertex="1">
          <mxGeometry y="40" width="399.9999999999999" height="1630" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-19" value="Tiếp nhận Request" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=service;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-10" vertex="1">
          <mxGeometry x="139.9999999999996" y="90" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-97" value="Tạo StreamingResponse&lt;div&gt;(Gắn headers, media_type)&lt;/div&gt;" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;" parent="X1sUR5M8pQhaVygHqHh5-10" vertex="1">
          <mxGeometry x="139.9999999999996" y="1375" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-13" value="Schema" style="swimlane;startSize=40;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" vertex="1">
          <mxGeometry x="399.9999999999999" y="40" width="400" height="1630" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-13" source="X1sUR5M8pQhaVygHqHh5-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="199.8823529411763" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-21" value="Xác thực &amp;amp; Chuẩn hóa (Schema)" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=service;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-13" vertex="1">
          <mxGeometry x="139.99999999999972" y="90" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-22" value="Hợp lệ ?" style="points=[[0.25,0.25,0],[0.5,0,0],[0.75,0.25,0],[1,0.5,0],[0.75,0.75,0],[0.5,1,0],[0.25,0.75,0],[0,0.5,0]];shape=mxgraph.bpmn.gateway2;html=1;verticalLabelPosition=middle;labelBackgroundColor=none;verticalAlign=middle;align=center;perimeter=rhombusPerimeter;outlineConnect=0;outline=none;symbol=none;labelPosition=center;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-13" vertex="1">
          <mxGeometry x="149.99999999999966" y="200" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-23" value="Thông báo:&lt;div&gt;Lỗi pydantic&lt;/div&gt;" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-13" vertex="1">
          <mxGeometry x="139.99999999999972" y="340" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-13" source="X1sUR5M8pQhaVygHqHh5-22" target="X1sUR5M8pQhaVygHqHh5-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-112" value="Không" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="X1sUR5M8pQhaVygHqHh5-41" vertex="1" connectable="0">
          <mxGeometry x="-0.0409" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-19" target="X1sUR5M8pQhaVygHqHh5-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-42" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-22" target="X1sUR5M8pQhaVygHqHh5-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-111" value="Có" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="X1sUR5M8pQhaVygHqHh5-42" vertex="1" connectable="0">
          <mxGeometry x="-0.0066" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-29" target="X1sUR5M8pQhaVygHqHh5-30" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1220" y="170" />
              <mxPoint x="1220" y="170" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-51" value="Kiểm tra cột thuộc bảng nào" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=1;points=[];movable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-43" vertex="1" connectable="0">
          <mxGeometry x="0.5103" y="2" relative="1" as="geometry">
            <mxPoint x="-71" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-14" value="Application&lt;div&gt;&amp;nbsp;(service)&lt;/div&gt;" style="swimlane;startSize=40;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" vertex="1">
          <mxGeometry x="799.9999999999999" y="40" width="399.9999999999999" height="1630" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-29" value="Điều phối: gọi tới Analytic Repository" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-14" vertex="1">
          <mxGeometry x="139.99999999999983" y="90" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-52" value="" style="points=[[0.25,0.25,0],[0.5,0,0],[0.75,0.25,0],[1,0.5,0],[0.75,0.75,0],[0.5,1,0],[0.25,0.75,0],[0,0.5,0]];shape=mxgraph.bpmn.gateway2;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;align=center;perimeter=rhombusPerimeter;outlineConnect=0;outline=none;symbol=none;gwType=parallel;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-14" vertex="1">
          <mxGeometry x="174.99999999999977" y="355" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-55" value="Điều phối: gọi tới&amp;nbsp;&lt;div&gt;SeabornChartService&lt;/div&gt;" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-14" vertex="1">
          <mxGeometry x="139.99999999999983" y="440" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-56" value="Điều phối: gọi tới&amp;nbsp;&lt;div&gt;GeminiInsightService&lt;/div&gt;" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-14" vertex="1">
          <mxGeometry x="129.99999999999983" y="700" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-14" source="X1sUR5M8pQhaVygHqHh5-52" target="X1sUR5M8pQhaVygHqHh5-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="60" y="380" />
              <mxPoint x="60" y="480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-14" source="X1sUR5M8pQhaVygHqHh5-52" target="X1sUR5M8pQhaVygHqHh5-56" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="60" y="380" />
              <mxPoint x="60" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-14" source="X1sUR5M8pQhaVygHqHh5-74" target="X1sUR5M8pQhaVygHqHh5-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-81" value="Lấy dependency &lt;code&gt;IsExportFile&lt;/code&gt; dựa vào type" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="X1sUR5M8pQhaVygHqHh5-80" vertex="1" connectable="0">
          <mxGeometry x="0.0238" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-74" value="" style="points=[[0.25,0.25,0],[0.5,0,0],[0.75,0.25,0],[1,0.5,0],[0.75,0.75,0],[0.5,1,0],[0.25,0.75,0],[0,0.5,0]];shape=mxgraph.bpmn.gateway2;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;align=center;perimeter=rhombusPerimeter;outlineConnect=0;outline=none;symbol=none;gwType=parallel;" parent="X1sUR5M8pQhaVygHqHh5-14" vertex="1">
          <mxGeometry x="164.99999999999972" y="980" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-79" value="Resolve Export Strategy" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;" parent="X1sUR5M8pQhaVygHqHh5-14" vertex="1">
          <mxGeometry x="129.99999999999972" y="1070" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-83" value="Điều phối: gọi tới Export Service" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;" parent="X1sUR5M8pQhaVygHqHh5-14" vertex="1">
          <mxGeometry x="129.99999999999972" y="1240" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-14" source="X1sUR5M8pQhaVygHqHh5-79" target="X1sUR5M8pQhaVygHqHh5-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-85" value="Truyền tới data, chart_path, response" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="X1sUR5M8pQhaVygHqHh5-84" vertex="1" connectable="0">
          <mxGeometry x="-0.0328" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-45" target="X1sUR5M8pQhaVygHqHh5-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-55" target="X1sUR5M8pQhaVygHqHh5-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-56" target="X1sUR5M8pQhaVygHqHh5-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=60.00000000000001;exitDy=47.5;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-45" target="X1sUR5M8pQhaVygHqHh5-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1540" y="428" />
              <mxPoint x="1540" y="1045" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=60.00000000000001;exitDy=47.5;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-63" target="X1sUR5M8pQhaVygHqHh5-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1009.9999999999995" y="1030" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1540" y="658" />
              <mxPoint x="1540" y="1045" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=60;exitDy=47.5;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-64" target="X1sUR5M8pQhaVygHqHh5-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1540" y="908" />
              <mxPoint x="1540" y="1045" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-106" value="&quot;Chờ Chart và Insight hoàn tất&quot;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="X1sUR5M8pQhaVygHqHh5-78" vertex="1" connectable="0">
          <mxGeometry x="0.3216" relative="1" as="geometry">
            <mxPoint y="-15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-15" value="Infrastructure&lt;div&gt;&amp;nbsp;(Repo/Agent/Viz/Export)&lt;/div&gt;" style="swimlane;startSize=40;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-9" vertex="1">
          <mxGeometry x="1199.9999999999998" y="40" width="400" height="1630" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-30" value="Auto-detect Table Model" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="140" y="90" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-33" value="Truy vấn &amp;amp; Mapping" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="140" y="210" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" source="X1sUR5M8pQhaVygHqHh5-30" target="X1sUR5M8pQhaVygHqHh5-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-45" value="Data&amp;nbsp;&lt;div&gt;Table&lt;/div&gt;" style="shape=mxgraph.bpmn.data2;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;size=15;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="170" y="340" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=1 4;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" source="X1sUR5M8pQhaVygHqHh5-33" target="X1sUR5M8pQhaVygHqHh5-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-48" value="&lt;code&gt;List[dict]&lt;/code&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=1;points=[];movable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-46" vertex="1" connectable="0">
          <mxGeometry x="-0.0919" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-59" value="Vẽ biểu đồ&amp;nbsp;&lt;div&gt;(Seaborn)&lt;/div&gt;" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="140" y="440" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-61" value="Generate Insight (Gemini Agent)" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="140" y="700" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-63" value="Image" style="shape=mxgraph.bpmn.data2;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;size=15;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="170" y="570" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-64" value="Text" style="shape=mxgraph.bpmn.data2;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;size=15;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="170" y="820" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=1 4;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" source="X1sUR5M8pQhaVygHqHh5-59" target="X1sUR5M8pQhaVygHqHh5-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-69" value="chart_path" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=1;points=[];movable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-67" vertex="1" connectable="0">
          <mxGeometry x="-0.0044" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=1 4;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-15" source="X1sUR5M8pQhaVygHqHh5-61" target="X1sUR5M8pQhaVygHqHh5-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-71" value="response" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=1;points=[];movable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-70" vertex="1" connectable="0">
          <mxGeometry x="-0.0296" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-87" value="Tạo File (Excel/PDF/CSV...)" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];shape=mxgraph.bpmn.task2;whiteSpace=wrap;rectStyle=rounded;size=10;html=1;container=1;expand=0;collapsible=0;taskMarker=abstract;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="139.99999999999977" y="1240" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-93" value="&lt;span style=&quot;font-size: 11px; background-color: rgb(18, 18, 18);&quot;&gt;file_byte,&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 11px; background-color: rgb(18, 18, 18);&quot;&gt;&amp;nbsp;content_type,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 11px; background-color: rgb(18, 18, 18);&quot;&gt;&amp;nbsp;file_name&lt;/span&gt;&lt;/div&gt;" style="shape=mxgraph.bpmn.data2;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;size=15;html=1;" parent="X1sUR5M8pQhaVygHqHh5-15" vertex="1">
          <mxGeometry x="165" y="1370" width="70" height="90" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=1 4;" parent="X1sUR5M8pQhaVygHqHh5-15" source="X1sUR5M8pQhaVygHqHh5-87" target="X1sUR5M8pQhaVygHqHh5-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-83" target="X1sUR5M8pQhaVygHqHh5-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-9" source="X1sUR5M8pQhaVygHqHh5-93" target="X1sUR5M8pQhaVygHqHh5-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-18" source="X1sUR5M8pQhaVygHqHh5-17" target="X1sUR5M8pQhaVygHqHh5-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="X1sUR5M8pQhaVygHqHh5-18" source="X1sUR5M8pQhaVygHqHh5-97" target="X1sUR5M8pQhaVygHqHh5-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=8 8;startArrow=classic;startFill=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-73" source="X1sUR5M8pQhaVygHqHh5-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1869.9999999999995" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X1sUR5M8pQhaVygHqHh5-47" value="Database" style="shape=datastore;whiteSpace=wrap;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="X1sUR5M8pQhaVygHqHh5-73" vertex="1">
          <mxGeometry x="1870" y="250" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
